<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minimalistischer Flip-Countdown</title>
  <style>
    /* ----- BASIS-RESET & STYLES ----- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: flex-end; /* Countdown in unterer Hälfte */
      align-items: center;
      background: #111;
      font-family: 'Arial', sans-serif;
      overflow: hidden;
      padding-bottom: 15vh; /* Abstand vom unteren Rand */
    }

    /* ----- FLIP-CLOCK-CONTAINER ----- */
    .flip-clock {
      display: flex;
      gap: 15px;
      margin-bottom: 50px; /* Abstand zu den Textblöcken */
    }

    /* ----- FLIP-CARD-STYLES ----- */
    .flip-unit {
      position: relative;
      width: 100px;
      height: 150px;
      perspective: 1000px;
    }

    .flip-card {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
    }

    .number {
      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 5rem;
      font-weight: bold;
      color: white;
      background: #222;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
    }

    /* ----- ANIMATION ----- */
    .flip-animation {
      position: absolute;
      width: 100%;
      height: 100%;
      transform-origin: bottom;
      background: #222;
      border-radius: 8px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 5rem;
      color: white;
      backface-visibility: hidden;
    }

    .flip-animation.flip {
      animation: flip 0.6s cubic-bezier(0.37, 0.01, 0.63, 0.99) forwards;
    }

    @keyframes flip {
      0% { transform: rotateX(0deg); }
      100% { transform: rotateX(-180deg); }
    }

    /* ----- TEXT-BLÖCKE ----- */
    .text-container {
      text-align: center;
      max-width: 600px;
      opacity: 0;
      transition: opacity 1s;
      position: absolute;
      bottom: 5vh;
    }

    .text-block {
      color: white;
      font-size: 1.5rem;
      margin: 10px 0;
      display: none;
    }

    /* ----- MOBILE-RESPONSIVE ----- */
    @media (max-width: 768px) {
      .flip-unit {
        width: 70px;
        height: 110px;
      }
      .number, .flip-animation {
        font-size: 3.5rem;
      }
      .text-block {
        font-size: 1.2rem;
      }
    }
  </style>
</head>
<body>
  <!-- Countdown -->
  <div class="flip-clock">
    <div class="flip-unit">
      <div class="flip-card" id="days">
        <div class="number">00</div>
      </div>
    </div>
    <div class="flip-unit">
      <div class="flip-card" id="hours">
        <div class="number">00</div>
      </div>
    </div>
    <div class="flip-unit">
      <div class="flip-card" id="minutes">
        <div class="number">00</div>
      </div>
    </div>
    <div class="flip-unit">
      <div class="flip-card" id="seconds">
        <div class="number">00</div>
      </div>
    </div>
  </div>

  <!-- Text-Blöcke -->
  <div class="text-container">
    <div class="text-block" data-index="0">Erster Satz der angezeigt wird</div>
    <div class="text-block" data-index="1">Zweiter Satz nach 30 Sekunden</div>
    <div class="text-block" data-index="2">Dritter Satz nach 1 Minute</div>
    <!-- Weitere Sätze hier einfügen (insgesamt 20) -->
  </div>

  <!-- Flip-Sound (unsichtbar) -->
  <audio id="flipSound" src="https://assets.mixkit.co/sfx/preview/mixkit-clock-countdown-bleeps-916.mp3" preload="auto"></audio>

  <script>
    // ----- ZIEL-DATUM (HIER ANPASSEN!) -----
    const targetDate = new Date("2025-05-30T00:00:00").getTime();

    // ----- VARIABLEN -----
    const flipSound = document.getElementById("flipSound");
    const textBlocks = document.querySelectorAll(".text-block");
    const textContainer = document.querySelector(".text-container");
    let currentTextIndex = 0;
    let lastSeconds = -1;

    // ----- COUNTDOWN-FUNKTION -----
    function updateCountdown() {
      const now = new Date().getTime();
      const distance = targetDate - now;

      // Berechne Tage, Stunden, Minuten, Sekunden
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      // Update die Karten (mit Animation)
      updateFlipCard("days", days);
      updateFlipCard("hours", hours);
      updateFlipCard("minutes", minutes);
      
      // Nur Sekunden animieren wenn sie sich ändern
      if (seconds !== lastSeconds) {
        updateFlipCard("seconds", seconds);
        lastSeconds = seconds;
      }
    }

    // ----- FLIP-CARD-ANIMATION -----
    function updateFlipCard(unit, value) {
      const flipCard = document.getElementById(unit);
      const numberElement = flipCard.querySelector(".number");

      // Nur animieren, wenn sich der Wert ändert
      if (numberElement.textContent !== formatTime(value)) {
        // Erstelle Flip-Animation
        const flipAnimation = document.createElement("div");
        flipAnimation.className = "flip-animation flip";
        flipAnimation.textContent = numberElement.textContent;
        flipCard.appendChild(flipAnimation);

        // Sound abspielen
        flipSound.currentTime = 0;
        flipSound.play();

        // Nach der Animation Wert aktualisieren
        setTimeout(() => {
          numberElement.textContent = formatTime(value);
          flipAnimation.remove();
        }, 600);
      }
    }

    // ----- TEXT-BLÖCKE ROTIEREN -----
    function rotateText() {
      // Alle Blöcke verstecken
      textBlocks.forEach(block => block.style.display = "none");
      
      // Aktuellen Block anzeigen
      textBlocks[currentTextIndex].style.display = "block";
      textContainer.style.opacity = 1;
      
      // Nach 25 Sekunden ausblenden
      setTimeout(() => {
        textContainer.style.opacity = 0;
        
        // Nach komplettem Ausblenden nächsten Block vorbereiten
        setTimeout(() => {
          currentTextIndex = (currentTextIndex + 1) % textBlocks.length;
        }, 1000);
      }, 25000); // 25s Anzeige + 5s Übergang = 30s Gesamt
    }

    // ----- ZEIT FORMATIEREN -----
    function formatTime(time) {
      return time < 10 ? `0${time}` : time;
    }

    // ----- INITIALISIERUNG -----
    updateCountdown();
    setInterval(updateCountdown, 1000);
    
    // Textrotation starten (alle 30 Sekunden)
    rotateText();
    setInterval(rotateText, 30000);
  </script>
</body>
</html>
